{{ define "post" }}

<div class="post rounded border border-dark p-3 mt-4">
    <span>{{ .Content }}</span>
    <hr class="mb-1">
    <div class="row">
        <div class="col">
            <span class="float-start text-muted">
                posted by <a href="/account/{{ .Username }}">{{ .Username }}</a>
            </span>
        </div>
        <div class="col">
            <span class="float-end text-muted">{{ formatDate .CreatedAt }}</span>
        </div>
    </div>
    <div class="row">
        <div class="col">
            {{ if eq getUserId .UserId }}
            <a class="align-top" href="/posts/update/{{ .Id }}">Edit</a>
            {{ if and isPostPage }}
            <button class="btn btn-link align-top border-0 p-0"
                onclick="deletePost({{ .Id }}, '/account')">Delete</button>
            {{ else }}
            <button class="btn btn-link align-top border-0 p-0" onclick="deletePost({{ .Id }})"
                style="padding: 0;">Delete</button>
            {{ end }}
            {{ end }}
        </div>
        <div class="col">
            <a class="float-end" href="/posts/{{ .Id }}">View</a>
        </div>
    </div>
</div>

{{ end }}
