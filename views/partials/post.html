{{ define "post" }}

<div class="post rounded border border-dark p-3 mt-4">
    {{ .Content }}
    <hr class="mb-1">
    <div class="row">
        <div class="col">
            <span class="float-start text-muted">
                posted by <a href="/account/{{ .Username }}">{{ .Username }}</a>
            </span>
        </div>
        <div class="col">
            <span class="float-end text-muted">{{ formatDate .CreatedAt }}</span>
        </div>
    </div>
    {{ if eq getUserId .UserId }}
    <div>
        <a class="align-top" href="/posts/update/{{ .Id }}">Edit</a>

        {{ if isPostPage }}
        <button class="btn btn-link align-top border-0" onclick="deletePost({{ .Id }}, '/account')"
            style="padding: 0;">Delete</button>
        {{ else }}
        <button class="btn btn-link align-top border-0" onclick="deletePost({{ .Id }})"
            style="padding: 0;">Delete</button>
        <a class="float-end" href="/posts/{{ .Id }}">View</a>
        {{ end }}

    </div>
    {{ end }}
</div>

{{ end }}
